<script>
async function loadJournal(endpoint, coverId, newsId) {
  try {
    const response = await fetch(endpoint);
    const data = await response.json();

    // ===== CAPA =====
    if (data.cover) {
      const img = document.getElementById(coverId);
      img.src = data.cover;

      // abrir capa em nova aba ao clicar
      img.onclick = () => {
        window.open(data.cover, "_blank");
      };
    }

    // ===== NOTÍCIAS =====
    const container = document.getElementById(newsId);
    container.innerHTML = "";

    if (data.news && data.news.length > 0) {
      data.news.forEach(item => {
        const link = document.createElement("a");
        link.href = item.link;
        link.target = "_blank";
        link.textContent = item.title;
        container.appendChild(link);
      });
    } else {
      container.innerHTML = "<p>Sem notícias disponíveis.</p>";
    }

  } catch (error) {
    console.error("Erro:", error);
  }
}

// Carregar os 3 jornais
loadJournal("/api/record", "record-cover", "record-news");
loadJournal("/api/bola", "bola-cover", "bola-news");
loadJournal("/api/ojogo", "ojogo-cover", "ojogo-news");
</script>

